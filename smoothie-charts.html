<link rel="import" href="../polymer/polymer.html">
<script type="text/javascript" src="../smoothie/smoothie.js"></script>
<!--
  `<smoothie-charts></smoothie-charts>` http://smoothiecharts.org
  @demo demo.html
-->
<dom-module id="smoothie-charts">
  <template>
    <style>:host {display:inline-block;color:#666}</style>
    <canvas id="chart" width="[[width]]" height="[[height]]"></canvas>
  </template>
</dom-module>
<script>
  Polymer({
    is: "smoothie-charts",
    properties:{
      height:{
        type:Number,
        value:100,
      },
      width:{
        type:Number,
        value:500,
      },
    },
    ready: function(undefined){
      // Randomly add a data point every 500ms
      var random = new TimeSeries();
      setInterval(function() {
        random.append(new Date().getTime(), Math.random() * 10)
      }, 500)
      var chart = new SmoothieChart()
      chart.addTimeSeries(random, { strokeStyle: 'rgba(0, 255, 0, 1)', fillStyle: 'rgba(0, 255, 0, 0.2)', lineWidth: 4 })
      chart.streamTo(this.$.chart, 500)      
    },
  })
</script>
